<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Hey Kowalski, you out there?">

    <title>Installing Ubuntu from iso, without DVD or USB key, using a pre-existing grub - Vanishing Point</title>

    <link rel="canonical" href="http://viniciusprado.org/installing-ubuntu-from-iso-without-dvd-or-usb-key-using-a-pre-existing-grub/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Vanishing Point</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/about/">About</a>
                </li>
                
                <li>
                    <a href="/about/">About</a>
                </li>
                
                <li>
                    <a href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Installing Ubuntu from iso, without DVD or USB key, using a pre-existing grub</h1>
                    
                    <span class="meta">Posted by Vincius Prado da Fonseca on June 18, 2014</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p>This walkthrough is a really piece of gold. I found this purely by curiosity but I realized it is really useful. Even when you don’t have any medium to install or upgrade from scratch your ubuntu, with a running grub installation and an ubuntu iso file on your HD you can do this following this steps:</p>

<p>Go to grub menu (if your installation hides it).
<code class="highlighter-rouge">press c</code> to go to grub’s command-line.</p>

<p>Verify presence of grub modules, special attention to (hd0,1):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>grub&gt; ls (hd0,1)/boot/grub/
grub&gt; ls (hd0,1)/usr/lib/grub/i386-pc/
</code></pre>
</div>

<p>Setting prefix for modules:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>grub&gt; set prefix=(hd0,1)/boot/grub/
grub&gt; set prefix=(hd0,1)/usr/lib/grub/i386-pc/
</code></pre>
</div>

<p>Inserting modules:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>grub&gt; insmod linux
grub&gt; insmod loopback
grub&gt; insmod iso9660
grub&gt; insmod fat
grub&gt; insmod ntfs
grub&gt; insmod ntfscomp
</code></pre>
</div>

<p>Verifying installed disks:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>grub&gt; ls
    (hd0) (hd0,msdos1) ...
</code></pre>
</div>

<p>Setting loopback file, root path and linux boot options:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>grub&gt; loopback loop (hd0,msdos3)/path/to/iso/ubuntu-14.04-desktop-amd64.iso
grub&gt; set root=(loop)
grub&gt; linux /casper/vmlinuz.eti boot=casper iso-scan/filename=/path/to/iso/ubuntu-14.04-desktop-amd64.iso noprompt noeject
grub&gt; initrd /casper/initrd.lz
grub&gt; boot
</code></pre>
</div>

<p>So here you are! A running version of ubuntu iso.</p>

<p>You can use autocomplete in almost all above commands. The autocomplete is somewhat dumb but it’s useful to test the directories. But doesn’t works when you need to put the iso path in the line <code class="highlighter-rouge">linux /casper/vmlinuz ...</code>.</p>

<p>Before installing you need to unmount <code class="highlighter-rouge">/isodevice</code>. So open a terminal and type:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ sudo unmount -l -r -f /isodevice
</code></pre>
</div>

<p>Follow installation instructions as usual.</p>

<p>That’s all.</p>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/reduce-pdf-files/" data-toggle="tooltip" data-placement="top" title="Reduce PDF files size">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/pequena-historia-de-como-utilizar-a-tecnologia-para-ajudar-as-pessoas/" data-toggle="tooltip" data-placement="top" title="Pequena História de como Utilizar a Tecnologia para Ajudar as Pessoas">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/vncprado">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/vncprado">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Vanishing Point 2015</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>
